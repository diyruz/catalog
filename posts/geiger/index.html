<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Geiger counter Zigbee | DIY zigbee devices</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="Github
We all know what radiation is and its harmful effects on humans. Since this danger is not tangible, in connection with this the idea was born to make an indicator for continuous monitoring of the radiation situation.
The device is not designed to measure the level of radiation in the epicenter of a nuclear explosion, but it allows you to constantly monitor changes in background values. This can be useful in the event of man-made disasters or when you yourself or others bring something with an increased background radiation into the house."><meta name=generator content="Hugo 0.82.0"><meta name=ROBOTS content="INDEX, FOLLOW"><link href=https://diyruz.github.io/dist/css/app.4fc0b62e4b82c997bb0041217cd6b979.css rel=stylesheet><link rel="shortcut icon" href=https://diyruz.github.io/img/favicon.ico type=image/x-icon><meta property="og:title" content="Geiger counter Zigbee"><meta property="og:description" content="Github
We all know what radiation is and its harmful effects on humans. Since this danger is not tangible, in connection with this the idea was born to make an indicator for continuous monitoring of the radiation situation.
The device is not designed to measure the level of radiation in the epicenter of a nuclear explosion, but it allows you to constantly monitor changes in background values. This can be useful in the event of man-made disasters or when you yourself or others bring something with an increased background radiation into the house."><meta property="og:type" content="article"><meta property="og:url" content="https://diyruz.github.io/posts/geiger/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-01-27T12:48:30+08:00"><meta property="article:modified_time" content="2021-01-27T12:48:30+08:00"><meta itemprop=name content="Geiger counter Zigbee"><meta itemprop=description content="Github
We all know what radiation is and its harmful effects on humans. Since this danger is not tangible, in connection with this the idea was born to make an indicator for continuous monitoring of the radiation situation.
The device is not designed to measure the level of radiation in the epicenter of a nuclear explosion, but it allows you to constantly monitor changes in background values. This can be useful in the event of man-made disasters or when you yourself or others bring something with an increased background radiation into the house."><meta itemprop=datePublished content="2021-01-27T12:48:30+08:00"><meta itemprop=dateModified content="2021-01-27T12:48:30+08:00"><meta itemprop=wordCount content="749"><meta itemprop=keywords content="Opensource firmware,cc2530,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Geiger counter Zigbee"><meta name=twitter:description content="Github
We all know what radiation is and its harmful effects on humans. Since this danger is not tangible, in connection with this the idea was born to make an indicator for continuous monitoring of the radiation situation.
The device is not designed to measure the level of radiation in the epicenter of a nuclear explosion, but it allows you to constantly monitor changes in background values. This can be useful in the event of man-made disasters or when you yourself or others bring something with an increased background radiation into the house."><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-41771035-5','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class="ma0 avenir bg-near-white production"><header class="cover bg-top" style=background-image:url(https://diyruz.github.io/images/geiger.jpg)><div class="pb3-m pb6-l bg-black-60"><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=https://diyruz.github.io/ class="f3 fw2 hover-white no-underline white-90 dib"><img src=https://diyruz.github.io/img/diyruz.png class="w100 mw5-ns" alt="DIY zigbee devices"></a><div class="flex-l items-center"><ul class="pl0 mr3"><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=https://diyruz.github.io/posts/airsense/ title="CO2 (carbon dioxide) Zigbee sensor page">CO2 (carbon dioxide) Zigbee sensor</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=https://diyruz.github.io/posts/zintercom/ title="Zintercom page">Zintercom</a></li></ul><a href=https://github.com/diyruz target=_blank class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel=noopener aria-label="follow on Github——Opens in a new window"><svg height="32" style="enable-background:new 0 0 512 512" viewBox="0 0 512 512" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M256 32C132.3 32 32 134.8 32 261.7c0 101.5 64.2 187.5 153.2 217.9 11.2 2.1 15.3-5 15.3-11.1.0-5.5-.2-19.9-.3-39.1-62.3 13.9-75.5-30.8-75.5-30.8-10.2-26.5-24.9-33.6-24.9-33.6-20.3-14.3 1.5-14 1.5-14 22.5 1.6 34.3 23.7 34.3 23.7 20 35.1 52.4 25 65.2 19.1 2-14.8 7.8-25 14.2-30.7-49.7-5.8-102-25.5-102-113.5.0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8.0.0 18.8-6.2 61.6 23.5 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 42.8-29.7 61.5-23.5 61.5-23.5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6.0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5.0 30.7-.3 55.5-.3 63 0 6.1 4 13.3 15.4 11C415.9 449.1 480 363.1 480 261.7 480 134.8 379.7 32 256 32z"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a></div></div></nav><div class="tc-l pv6 ph3 ph4-ns"><h1 class="f2 f1-l fw2 white-90 mb0 lh-title">Geiger counter Zigbee</h1></div></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked">POSTS</aside><div id=sharing class=mt3><a href="https://www.facebook.com/sharer.php?u=https://diyruz.github.io/posts/geiger/" class="facebook no-underline" aria-label="share on Facebook"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765 50.32h6.744V33.998h4.499l.596-5.624h-5.095l.007-2.816c0-1.466.14-2.253 2.244-2.253h2.812V17.68h-4.5c-5.405.0-7.307 2.729-7.307 7.317v3.377h-3.369v5.625h3.369V50.32zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></a><a href="https://twitter.com/share?url=https://diyruz.github.io/posts/geiger/&text=Geiger%20counter%20Zigbee" class="twitter no-underline" aria-label="share on Twitter"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></a><a href="https://www.linkedin.com/shareArticle?mini=true&url=https://diyruz.github.io/posts/geiger/&title=Geiger%20counter%20Zigbee" class="linkedin no-underline" aria-label="share on LinkedIn"><svg height="32" style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30c0 16.568-13.432 30-30 30zM26.354 48.137V27.71h-6.789v20.427h6.789z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></a></div><h1 class="f1 athelas mt3 mb1">Geiger counter Zigbee</h1><time class="f6 mv4 dib tracked" datetime=2021-01-27T12:48:30+08:00>January 27, 2021</time></header><div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p><a href=https://github.com/diyruz/geiger>Github</a></p><p><img src=./images/DIYRuZ_GEIGER_12.jpg alt>
We all know what radiation is and its harmful effects on humans. Since this danger is not tangible, in connection with this the idea was born to make an indicator for continuous monitoring of the radiation situation.</p><p>The device is not designed to measure the level of radiation in the epicenter of a nuclear explosion, but it allows you to constantly monitor changes in background values. This can be useful in the event of man-made disasters or when you yourself or others bring something with an increased background radiation into the house. These can be quite harmless-looking things, nevertheless, they carry a direct threat to life and health.</p><p>There are many amateur dosimeter projects, for example one and two.
All of them are built according to almost the same schemes associated with the features of the Geiger counters used. The principle of operation of Geiger counters is based on the effect of impact ionization of a gaseous medium under the action of radioactive particles in the interelectrode space at a high accelerating voltage. Accordingly, the meter requires a high voltage source.</p><p><strong>ATTENTION! THE DEVICE CONTAINS A HIGH VOLTAGE OF 400 VOLTS</strong></p><p>Since Jager has a Zigbee network at home, the device will be an element of this network.
The circuit does not contain rare elements and is typical for this type of device.</p><h3 id=diagram>Diagram</h3><p><img src=https://diyruz.github.io/images/DIYRuZ_GEIGER_05.jpg alt></p><p>The central elements are the SBM-20 Geiger counter and the E18-MS1PA1-PCB Zigbee module. The scheme includes the ability to use either one or two counters to improve the measurement accuracy.
<img src=https://diyruz.github.io/images/sbm-20.jpg alt></p><p>GAINTA 407 case was selected based on the meter size.
<img src=https://diyruz.github.io/images/G407.jpg alt></p><h3 id=pcb>PCB</h3><p>The board was designed by EasyEDA
<img src=https://diyruz.github.io/images/DIYRuZ_GEIGER_06.jpg alt></p><p><img src=https://diyruz.github.io/images/DIYRuZ_GEIGER_07.jpg alt></p><p>Production at JLCPCB
<img src=./images/DIYRuZ_GEIGER_09.jpg alt></p><p><img src=./images/DIYRuZ_GEIGER_08.jpg alt></p><p>The general assembly has no peculiarities, the smallest SMD elements are 0805. The capacitors in the voltage multiplier are 600 volts and are 1206 in size. There is a trimmer resistor on the board to set the high voltage level.
<img src=./images/DIYRuZ_GEIGER_10.jpg alt></p><p>There is a peculiarity in sealing the meter holders, since the width of the case does not allow placing two meters and the micro USB connector at a sufficient distance from each other, the holders must be raised above the board. When soldering, use any 0.8-1.0 mm spacer
<img src=./images/DIYRuZ_GEIGER_11.jpg alt></p><p>Physically, you can install counters 90 or 107 mm long.
Such as Soviet SBM-20 and SBM-19 or Chinese J305 and M4011.</p><p>To revive the device @anonymass wrote an open source firmware. The firmware implements support for several counters, displaying the number of registered particles per minute with the conversion of these values ​​to the usual μR / h. An important feature is the ability to set the level at which the alarm is triggered. This condition can be tied to the triggering of a physical siren or light bulb as a means of control and using direct binding on the Zigbee device, which will enable notification even if the Zigbee network is not available.</p><p>If the board is correctly assembled, after downloading the firmware, it will be possible to &ldquo;see&rdquo; the registered particles immediately<br><a href="https://www.youtube.com/watch?v=Ee7PnegF638"><img src=https://img.youtube.com/vi/Ee7PnegF638/0.jpg alt="Zigbee Geiger SBM-20"></a></p><h3 id=support>Support</h3><p>Device support is implemented in zigbee2mqtt and SLS Gateway</p><p><img src=https://diyruz.github.io/images/z2m_about.png alt><br><img src=https://diyruz.github.io/images/z2m_exposes.png alt></p><p><img src=https://diyruz.github.io/images/DIYRuZ_GEIGER_16.jpg alt><br><img src=https://diyruz.github.io/images/DIYRuZ_GEIGER_17.jpg alt></p><h3 id=settings>Settings</h3><ul><li><p>alert_threshold - set the level in μR / h, when exceeded, the alarm will be triggered</p></li><li><p>buzzer - built-in buzzer (not yet supported)</p></li><li><p>Led - turn on / off the LED displaying particle registration</p></li><li><p>rph - recorded value in μR / h</p></li><li><p>pm - recorded value of particles per minute</p></li><li><p>sensitivity - counter sensitivity (used if item 3 is selected in sensor_type)</p></li><li><p>sensor_type - select the type of meter:</p><ul><li>SBM-20 / STS-5 / BOI-33</li><li>SBM-19 / STS-6</li><li>everything else</li></ul></li><li><p>sensors_count - number of installed counters</p></li></ul><p>The device is also a router in the Zigbee network, which allows you to increase its coverage.
<img src=https://diyruz.github.io/images/DIYRuZ_GEIGER_19.jpg alt></p><p>The final assembly includes installing the board into the case and making an end cap with holes for the LED and micro USB connector. These holes can be made in a standard plug, but Jager drew and printed on a 3D printer
<img src=https://diyruz.github.io/images/DIYRuZ_GEIGER_20.jpg alt></p><p><img src=https://diyruz.github.io/images/DIYRuZ_GEIGER_21.jpg alt></p><p>That&rsquo;s all, the device is ready to go.</p><p>In the photos you can see that Jager&rsquo;s counters are damaged, it so happened that Jager got just such. In fact, the damage is much more serious and this can be seen in the photo below, but while maintaining the tightness, they do not affect the operation of the meters.
<img src=https://diyruz.github.io/images/DIYRuZ_GEIGER_13.jpg alt></p><h3 id=how-to-join>How to join</h3><ul><li>Reset to FN rebooting device 5 times with interval less than 10 seconds, led will start flashing during reset</li></ul><h3 id=files-to-reproduce>Files to reproduce</h3><ul><li><a href=https://github.com/diyruz/geiger/tree/master/hardware>Gerbers and BOM and STL</a> by <a href=https://t.me/Jager_f>Jager</a></li><li><a href=https://github.com/diyruz/geiger/releases>Firmware</a> by <a href=https://t.me/anonymass>@anonymass</a></li></ul><p><a href="https://modkam.ru/?p=1591">Original post by Jager</a></p><ul class=pa0><li class=list><a href=https://diyruz.github.io/tags/opensource-firmware class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Opensource firmware</a></li><li class=list><a href=https://diyruz.github.io/tags/cc2530 class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">cc2530</a></li></ul><div class="mt6 instapaper_ignoref"><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var b=document,a=b.createElement('script');a.async=!0,a.src='//diyruz.disqus.com/embed.js',a.setAttribute('data-timestamp',+new Date),(b.head||b.body).appendChild(a)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div><aside class="w-30-l mt6-l"><div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links"><p class="f5 b mb3">Related</p><ul class="pa0 list"><li class=mb2><a href=https://diyruz.github.io/posts/letv/>LeTV Zigbee remote</a></li><li class=mb2><a href=https://diyruz.github.io/posts/freepad_v1/>FreePad Zigbee remote v1</a></li><li class=mb2><a href=https://diyruz.github.io/posts/freepad_v2/>FreePad Zigbee remote v2</a></li><li class=mb2><a href=https://diyruz.github.io/posts/flower/>Flower sensor Zigbee</a></li><li class=mb2><a href=https://diyruz.github.io/posts/reed/>Reed Zigbee sensor</a></li><li class=mb2><a href=https://diyruz.github.io/posts/airsense/>CO2 (carbon dioxide) Zigbee sensor</a></li></ul></div></aside></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://diyruz.github.io/>&copy; DIY zigbee devices 2021</a><div><a href=https://github.com/diyruz target=_blank class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel=noopener aria-label="follow on Github——Opens in a new window"><svg height="32" style="enable-background:new 0 0 512 512" viewBox="0 0 512 512" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M256 32C132.3 32 32 134.8 32 261.7c0 101.5 64.2 187.5 153.2 217.9 11.2 2.1 15.3-5 15.3-11.1.0-5.5-.2-19.9-.3-39.1-62.3 13.9-75.5-30.8-75.5-30.8-10.2-26.5-24.9-33.6-24.9-33.6-20.3-14.3 1.5-14 1.5-14 22.5 1.6 34.3 23.7 34.3 23.7 20 35.1 52.4 25 65.2 19.1 2-14.8 7.8-25 14.2-30.7-49.7-5.8-102-25.5-102-113.5.0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8.0.0 18.8-6.2 61.6 23.5 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 42.8-29.7 61.5-23.5 61.5-23.5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6.0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5.0 30.7-.3 55.5-.3 63 0 6.1 4 13.3 15.4 11C415.9 449.1 480 363.1 480 261.7 480 134.8 379.7 32 256 32z"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a></div></div></footer><script src=https://diyruz.github.io/dist/js/app.3fc0f988d21662902933.js></script></body></html>